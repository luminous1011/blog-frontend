<template>
  <div
    id="grid"
    class="clearfix"
    data-masonry='{ "columnWidth": 0, "itemSelector": ".grid-item" }'
  >
    <div class="grid-sizer"></div>
    <div class="grid-item">
      <div class="image_info">
        <h1><center>ğŸƒ</center></h1>
        <p>
          ä¸æ˜¯æ¯ä¸ªäººéƒ½èƒ½æˆä¸ºæ‘„å½±å¸ˆï¼Œä½†å¥½çš„æ‘„å½±ä½œå“å¯ä»¥å‡ºè‡ªäºä»»ä½•äººã€‚
          <br />
          æˆ‘æ°¸è¿œæœŸå¾…é•œå¤´ä¸­æ— æ³•é¢„æœŸçš„ä¸‹ä¸€åˆ»ã€‚
        </p>
        <p>
          <router-link to="/">é¦–é¡µ</router-link>
          &nbsp;Â·&nbsp;
          <router-link to="/essaypoetry">éšç¬”</router-link>
          &nbsp;Â·&nbsp;
          <router-link to="/about">å…³äº</router-link>
        </p>
      </div>
    </div>
    <div class="grid-item" v-for="item,index in data " :key="index" @click="handleTarget(item.targetUrl)">
      <div> 
        <div>
          <img
            class="lazy"
            @load="load"
            src="https://rawchen.com/loading.gif"
            :data-original="item.imgUrl"
          />
        </div>
      </div>
      <div class="image_info">{{item.time}} {{item.event}}</div>
    </div>
  </div>
</template>

<script lang="ts" setup>
import { useScreenResize, load } from "./actions";
import { onMounted } from "vue";

useScreenResize();

const data = [
  {imgUrl:'https://photo.tuchong.com/27380778/f/1285305025.jpg',time:'2022.10.18',event:'the model 3 performance ',targetUrl:'https://tuchong.com/27380778/117796336/'},
  {imgUrl:'https://photo.tuchong.com/27380778/f/1038102939.jpg',time:'2022.10.01',event:'è¿ªå£«å°¼ç‹å­å›å®¶è®°',targetUrl:'https://tuchong.com/27380778/117243795/'},
  {imgUrl:'https://photo.tuchong.com/27380778/f/1009136084.jpg',time:'2022.10.01',event:'è¿ªå£«å°¼ç‹å­å›å®¶è®°',targetUrl:'https://tuchong.com/27380778/117243795/#image1009136084'},
  {imgUrl:'https://photo.tuchong.com/27380778/f/939930038.jpg',time:'2022.10.01',event:'è¿ªå£«å°¼ç‹å­å›å®¶è®°'},
  {imgUrl:'https://photo.tuchong.com/27380778/f/1016738039.jpg',time:'2022.10.01',event:'è¿ªå£«å°¼ç‹å­å›å®¶è®°'},
  {imgUrl:'https://photo.tuchong.com/27380778/f/980562277.jpg',time:'2022.10.01',event:'è¿ªå£«å°¼ç‹å­å›å®¶è®°'},
  {imgUrl:'https://photo.tuchong.com/27380778/f/833761922.jpg',time:'2022.10.01',event:'è¿ªå£«å°¼ç‹å­å›å®¶è®°'},
  {imgUrl:'https://photo.tuchong.com/27380778/f/1281045229.jpg',time:'2022.09.18',event:'ä¸€ç»„æ¸…å‡‰â˜ï¸'},
  {imgUrl:'https://photo.tuchong.com/27380778/f/1258303931.jpg',time:'2022.09.18',event:'ä¸€ç»„æ¸…å‡‰â˜ï¸'},
  {imgUrl:'https://photo.tuchong.com/27380778/f/1231630923.jpg',time:'2022.09.18',event:'ä¸€ç»„æ¸…å‡‰â˜ï¸'},
  {imgUrl:'https://photo.tuchong.com/27380778/f/1046688358.jpg',time:'2022.09.18',event:'ä¸€åªå«Amyçš„æµæ°“ğŸ±ğŸ±'},
]

function handleTarget(targetUrl:string){
  window.open(targetUrl,'_blank')
}
onMounted(() => {
  //è®¾ç½®å»¶è¿ŸåŠ è½½å›¾ç‰‡
  setTimeout(
    () =>
      $("img.lazy").lazyload({
        effect: "fadeIn",
      }),
    2000
  );
});
</script>

<style lang="less" scoped>
@import "./index.less";
</style>
